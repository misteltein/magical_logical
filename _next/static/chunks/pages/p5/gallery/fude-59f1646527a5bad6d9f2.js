(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2880],{6610:function(t,n,e){"use strict";function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,{Z:function(){return o}})},5991:function(t,n,e){"use strict";function o(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,n,e){return n&&o(t.prototype,n),e&&o(t,e),t}e.d(n,{Z:function(){return r}})},625:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return y}});var o=e(5893),r=e(6630),a=e(7757),i=e.n(a);function u(t,n,e,o,r,a,i){try{var u=t[a](i),s=u.value}catch(h){return void e(h)}u.done?n(s):Promise.resolve(s).then(o,r)}var s=e(6610),h=e(5991),c=e(6156),l=function(){function t(){(0,s.Z)(this,t),(0,c.Z)(this,"rawData",void 0),(0,c.Z)(this,"smooth",void 0),(0,c.Z)(this,"protect",void 0),this.protect=!1,this.rawData=[],this.smooth=[]}return(0,h.Z)(t,[{key:"log",value:function(){console.log("rawData");var t="";this.rawData.forEach((function(n,e){t+=e+" "+n.weight+"\n"})),console.log(t),console.log("smooth"),t="",this.smooth.forEach((function(n,e){t+=e+" "+n.weight+"\n"})),console.log(t)}},{key:"computeWeight",value:function(t){return Math.max(Math.min(50*Math.exp(-t/9),30),3)}},{key:"add",value:function(t,n){if(this.protect)return!1;var e=0;if(this.rawData.length>1){var o=this.rawData[this.rawData.length-1];e=Math.sqrt(Math.pow(o.x-t,2)+Math.pow(o.y-n,2))}return this.rawData.push({x:t,y:n,weight:this.computeWeight(e)}),this.smoothing(),!0}},{key:"smoothing",value:function(){var t,n=(t=i().mark((function t(){var n,e,o,r,a,u,s,h;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[],e=0,o=this.rawData.length;e<o;++e){for(r=0,a={x:0,y:0,weight:0},u=e-5,s=e+5;u<s;++u)this.rawData[u]&&(r+=h=5-(e-u),a.x+=h*this.rawData[u].x,a.y+=h*this.rawData[u].y,a.weight+=h*this.rawData[u].weight);a.x/=r,a.y/=r,a.weight/=r,n.push(a)}return t.next=4,n;case 4:this.smooth=t.sent;case 5:case"end":return t.stop()}}),t,this)})),function(){var n=this,e=arguments;return new Promise((function(o,r){var a=t.apply(n,e);function i(t){u(a,o,r,i,s,"next",t)}function s(t){u(a,o,r,i,s,"throw",t)}i(void 0)}))});return function(){return n.apply(this,arguments)}}()},{key:"computeControlPoints",value:function(){this.protect=!0}},{key:"draw",value:function(t){!function(n){if(n.length>2){t.fill(0);var e=1.98,o=function(n){t.push(),t.translate(n.x,n.y),t.rotate(.25*t.PI),t.arc(0,0,e*n.weight,1*n.weight,0,2*t.PI),t.pop()},r=function(n,r){t.push();var a=function(n,o){t.line(n.x,n.y,o.x,o.y);var r={x:o.x-n.x,y:o.y-n.y},a=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2));if(a<3)return null;r.x/=a,r.y/=a;for(var i=function(t){var n=Math.sin(t),o=Math.cos(t),r=.5*Math.sqrt(2);return{x:r*(e*o-1*n),y:r*(1*n+e*o)}},u=function(t){var e=i(t);e.x-=n.x,e.y-=n.y;var o=e.x*r.x+e.y*r.y,a={x:e.x-o*r.x,y:e.y-o*r.y};return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))},s=0,h=0,c=0;c<100;++c){var l=2*c*Math.PI/100,f=u(l);s<f&&(s=f,h=l)}var w=i(h);return[{x:n.x+.5*n.weight*w.x,y:n.y+.5*n.weight*w.y},{x:n.x-.5*n.weight*w.x,y:n.y-.5*n.weight*w.y},{x:o.x+.5*o.weight*w.x,y:o.y+.5*o.weight*w.y},{x:o.x-.5*o.weight*w.x,y:o.y-.5*o.weight*w.y}]}(n,r);a&&(o(n),t.quad(a[0].x,a[0].y,a[2].x,a[2].y,a[3].x,a[3].y,a[1].x,a[1].y)),t.pop()};o(n[0]);for(var a=0,i=n.length-1;a<i;++a){n[a],n[a+1];r(n[a],n[a+1])}o(n[n.length-1])}}(this.smooth)}}]),t}(),f=function(t){var n=[];t.setup=function(){t.createCanvas(900,600),t.fill(0),t.frameRate(60),null,null,n.push(new l)},t.mouseReleased=function(){null,null,n[n.length-1].computeControlPoints(),n.push(new l)},t.draw=function(){t.background(255),t.noFill(),t.stroke(200),t.rect(0,0,t.width,t.height),t.stroke(t.color(0,0,0)),t.mouseIsPressed&&(n[n.length-1].add(t.mouseX,t.mouseY)||(n[n.length-1].computeControlPoints(),n.push(new l))),n.forEach((function(n){return n.draw(t)}))},t.keyPressed=function(){t.keyCode===t.ESCAPE&&(t.noLoop(),n.forEach((function(t){t.log()})))}},w=(0,o.jsxs)("div",{className:"text-center w-100",children:[(0,o.jsx)("div",{className:"m-3",children:"\u3059\u306a\u306f\u3061\u6d88\u3048\u306c\u308b\u58a8\u306a\u308a"}),(0,o.jsx)("div",{className:"m-3",children:"\u3048\u3059\u3051\u30fc\u3077\u3092\u62bc\u3055\u3070\u7b46\u3092\u7f6e\u304f\u3079\u3057"}),(0,o.jsx)("div",{className:"m-3",children:"\u3048\u3082\u3044\u3048\u306c\u3048\u3082\u66f8\u304f\u3079\u304b\u3089\u3080"})]}),y=function(){return(0,r.Z)(f,"\u3075\u3067\u306e\u3059\u3055\u307f",w)}},2153:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/p5/gallery/fude",function(){return e(625)}])}},function(t){t.O(0,[9774,6630,2888,179],(function(){return n=2153,t(t.s=n);var n}));var n=t.O();_N_E=n}]);